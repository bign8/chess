package chess

import "testing"

func BenchmarkNewString(b *testing.B) {
	game := New()
	for i := 0; i < b.N; i++ {
		game.String()
	}
}

func TestNewString(b *testing.T) {
	x := New().String()
	y := "╔═══╦═══╦═══╦═══╦═══╦═══╦═══╦═══╗\n"
	y += "║ ♜ ║ ♞ ║ ♝ ║ ♛ ║ ♚ ║ ♝ ║ ♞ ║ ♜ ║  8\n"
	y += "╠═══╬═══╬═══╬═══╬═══╬═══╬═══╬═══╣\n"
	y += "║ ♟ ║ ♟ ║ ♟ ║ ♟ ║ ♟ ║ ♟ ║ ♟ ║ ♟ ║  7\n"
	y += "╠═══╬═══╬═══╬═══╬═══╬═══╬═══╬═══╣\n"
	y += "║   ║   ║   ║   ║   ║   ║   ║   ║  6\n"
	y += "╠═══╬═══╬═══╬═══╬═══╬═══╬═══╬═══╣\n"
	y += "║   ║   ║   ║   ║   ║   ║   ║   ║  5\n"
	y += "╠═══╬═══╬═══╬═══╬═══╬═══╬═══╬═══╣\n"
	y += "║   ║   ║   ║   ║   ║   ║   ║   ║  4\n"
	y += "╠═══╬═══╬═══╬═══╬═══╬═══╬═══╬═══╣\n"
	y += "║   ║   ║   ║   ║   ║   ║   ║   ║  3\n"
	y += "╠═══╬═══╬═══╬═══╬═══╬═══╬═══╬═══╣\n"
	y += "║ ♙ ║ ♙ ║ ♙ ║ ♙ ║ ♙ ║ ♙ ║ ♙ ║ ♙ ║  2\n"
	y += "╠═══╬═══╬═══╬═══╬═══╬═══╬═══╬═══╣\n"
	y += "║ ♖ ║ ♘ ║ ♗ ║ ♕ ║ ♔ ║ ♗ ║ ♘ ║ ♖ ║  1\n"
	y += "╚═══╩═══╩═══╩═══╩═══╩═══╩═══╩═══╝\n"
	y += "  A   B   C   D   E   F   G   H"
	if x != y {
		b.Errorf("String Missmatch\n%q\n%q", x, y)
	}
}
